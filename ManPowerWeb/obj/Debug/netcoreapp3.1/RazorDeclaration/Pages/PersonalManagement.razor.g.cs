// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace ManPowerWeb.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using ManPowerWeb;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using ManPowerWeb.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using ManPowerCore.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using ManPowerCore.Domain;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\_Imports.razor"
using ManPowerCore.Controller;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\Pages\PersonalManagement.razor"
using System.Text.RegularExpressions;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\Pages\PersonalManagement.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\Pages\PersonalManagement.razor"
using System.Text.Json;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/personalFiles")]
    public partial class PersonalManagement : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 1675 "E:\Industry Bv Projects\Man Power 2\ManPowerWeb\Pages\PersonalManagement.razor"
 
    RadzenUpload upload;

    bool showComplete;
    string completionMessage;
    bool cancelUpload = false;

    string[] specific = { "Mr.", "Mrs.", "Miss" };
    string[] gender = { "Male", "Female" };
    string[] maritalStatus = { "Married", "Single" };

    //Employee
    private int religionId;
    private int ethnicityID;
    private string nic;
    private DateTime nicIssuedDate = DateTime.Today;
    private string passportNo;
    private string leaveNo;
    private string address;
    private string telephone;
    private string fax;
    private string mobile;
    private string email;
    private string fileNo;
    private string appointmentLetterNo;
    private string serviceType;
    private string empNo;
    private string initials;
    private string lastName;
    private string nameOfInitials;
    private string empGender;
    private DateTime dob = DateTime.Today;
    private string empMaritalStatus;
    private DateTime marriedDate = DateTime.Today;
    private int supervisorId;
    private int managerId;

    //Emergency Contact
    private string emergencyPersonName;
    private string dependentToEmp;
    private string emergencyPersonAddress;

    //Employment Details
    private string companyName;
    private DateTime startDate = DateTime.Today;
    private DateTime endDate = DateTime.Today;
    private int isResigned;
    private DateTime retirementDate = DateTime.Today;
    private int epf;

    List<ContactType> contactTypes = new List<ContactType>();
    List<Ethnicity> ethnicityList = new List<Ethnicity>();
    List<Religion> religionList = new List<Religion>();


    protected override void OnInitialized()
    {
        base.OnInitialized();

        EthnicityController aa = ControllerFactory.CreateEthnicityController();
        ethnicityList = aa.GetAllEthnicity();

        ReligionController rc = ControllerFactory.CreateReligionController();
        religionList = rc.GetAllReligion();

        ContactTypeController ct = ControllerFactory.CreateContactTypeController();
        contactTypes = ct.GetAllContactType();

    }


    void OnSubmit(Employee e)
    {
        Console.WriteLine($"Submit: {JsonSerializer.Serialize(e, new JsonSerializerOptions() { WriteIndented = true })}");

        EmployeeController emp = ControllerFactory.CreateEmployeeController();

        e.ReligionId = religionId;
        e.EthnicityId = ethnicityID;
        e.EmployeeNIC = nic;
        e.NicIssueDate = nicIssuedDate;
        e.EmployeePassportNumber = passportNo;
        e.leaveNumber = int.Parse(leaveNo);
        e.Adress = address;
        e.TelephoneNumber = int.Parse(telephone);
        e.EmpFax = int.Parse(fax);
        e.empMobile = int.Parse(mobile);
        e.Email = email;
        e.FileNumber = int.Parse(fileNo);
        e.AppointmentLetterNumber = int.Parse(appointmentLetterNo);
        e.ServiceType = int.Parse(serviceType);
        e.EmpNumber = int.Parse(empNo);
        e.EmpInitials = initials;
        e.LastName = lastName;
        e.NameWithInitials = nameOfInitials;
        e.EmpGender = empGender;
        e.DOB = dob;
        e.MaritalStatus = empMaritalStatus;
        e.MarriedDate = marriedDate;
        e.SupervisorId = supervisorId;
        e.ManagerId = managerId;

        EmergencyContact emergencyContact = new EmergencyContact();

        emergencyContact.EmployeeId = 0;
        emergencyContact.Name = emergencyPersonName;
        emergencyContact.DependentToEmployee = dependentToEmp;
        emergencyContact.Address = emergencyPersonAddress;
    }

    void OnInvalidSubmit(FormInvalidSubmitEventArgs args)
    {
        Console.WriteLine($"InvalidSubmit: {JsonSerializer.Serialize(args, new JsonSerializerOptions() { WriteIndented = true })}");
    }

    //------------- File Upload ----------------------------//

    void CompleteUpload(UploadCompleteEventArgs args)
    {
        if (!args.Cancelled)
            completionMessage = "Upload Complete!";
        else
            completionMessage = "Upload Cancelled!";

        showComplete = true;
    }

    void CancelUpload()
    {
        cancelUpload = true;
    }

    int customParameter = 1;

    void OnChange(UploadChangeEventArgs args, string name)
    {
        foreach (var file in args.Files)
        {
            Console.WriteLine($"File: {file.Name} / {file.Size} bytes");
        }

        Console.WriteLine($"{name} changed");
    }

    void OnProgress(UploadProgressArgs args, string name)
    {
        Console.WriteLine($"{args.Progress}% '{name}' / {args.Loaded} of {args.Total} bytes.");

        if (args.Progress == 100)
        {
            foreach (var file in args.Files)
            {
                Console.WriteLine($"Uploaded: {file.Name} / {file.Size} bytes");
            }
        }
    }

    void OnComplete(UploadCompleteEventArgs args)
    {
        Console.WriteLine($"Server response: {args.RawResponse}");
    }

    //-------------- Date Picker hander --------------------//

    DateTime value1 = DateTime.Today;
    DateTime value2 = DateTime.Today;

    IEnumerable<DateTime> dates = new DateTime[] { DateTime.Today.AddDays(-1), DateTime.Today.AddDays(1) };



    void OnChange(DateTime? value, string name, string format)
    {
    }

    void DateRenderSpecial(DateRenderEventArgs args)
    {
        if (dates.Contains(args.Date))
        {
            args.Attributes.Add("style", "background-color: #ff6d41; border-color: white;");
        }
    }

    void DateRender(DateRenderEventArgs args)
    {
        args.Disabled = args.Disabled || dates.Contains(args.Date);
    }

    void DateRenderNoWeekends(DateRenderEventArgs args)
    {
        args.Disabled = args.Disabled || args.Date.DayOfWeek == DayOfWeek.Sunday || args.Date.DayOfWeek == DayOfWeek.Saturday;
    }

    void OnTodayClick()
    {
        value1 = DateTime.Today;
        value2 = DateTime.Today;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NotificationService NotificationService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private DialogService DialogService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
#pragma warning restore 1591
