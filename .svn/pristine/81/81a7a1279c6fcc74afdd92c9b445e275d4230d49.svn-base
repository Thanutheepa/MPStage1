// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace ManPowerWeb.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using ManPowerWeb;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using ManPowerWeb.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using CurrieTechnologies.Razor.SweetAlert2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using ManPowerCore.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using ManPowerCore.Domain;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\_Imports.razor"
using ManPowerCore.Controller;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/entrpreneurReg")]
    public partial class EntrepreneurReg : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 187 "D:\SLIIT\Intern bellwantage\ManPower New Copy\ManPower new\ManPowerWeb\Pages\EntrepreneurReg.razor"
       

    private int businessType;
    private string nature;
    private string income;
    private string workers;
    private int marketType;
    private string loan;
    private string facilitation;
    private string district;
    private string secretary;
    private string brn;
    private string contact;
    private string email;

    private bool popup;

    //string[] business = { "Agriculture", "service", "Product" };
    //string[] mType = { "Local", "Foreign", "Both" };
    string[] bLoan = { "Yes", "No" };


    List<BusinessType> business = new List<BusinessType>();
    List<MarketType> mType = new List<MarketType>();

    protected override void OnInitialized()
    {
        BusinessTypeController businessTypeController = ControllerFactory.CreateBusinessTypeController();
        business = businessTypeController.GetAllBusinessType();

        MarketTypeController marketTypeController = ControllerFactory.CreateMarketTypeController();
        mType = marketTypeController.GetAllMarketType();
    }

    void onClick_Save()
    {
        EntrepreneurController entrepreneurctrl = ControllerFactory.CreateEntrepreneurController();
        Entrepreneur entrepreneur = new Entrepreneur();

        entrepreneur.MarketTypeId = marketType;
        entrepreneur.BusinessTypeId = businessType;
        entrepreneur.NatureOfBusiness = nature;
        entrepreneur.BusinessStartDate = DateTime.Today;
        entrepreneur.AvgMonthlyIncome = double.Parse(income);
        entrepreneur.NumberOfWorkers = workers;
        entrepreneur.District = district;
        entrepreneur.DivisionalSecretery = secretary;
        entrepreneur.ContactNumber = contact;
        entrepreneur.Brn = brn;
        entrepreneur.Email = email;

        int result = entrepreneurctrl.SaveEntrepreneur(entrepreneur);

        if (result == 1)    
        { 
            JSRuntime.InvokeAsync<object>("ErrorAlert", "success", "", "Succesfully registerd");
        }
        else
        {
            JSRuntime.InvokeAsync<object>("ErrorAlert", "error", "", "Something went wrong");
        }
    }
    




    //-------------- Date Picker handler --------------------//

    DateTime? startDate = DateTime.Today;
    DateTime? date = DateTime.Today;

    IEnumerable<DateTime> dates = new DateTime[] { DateTime.Today.AddDays(-1), DateTime.Today.AddDays(1) };



    void OnChange(DateTime? value, string name, string format)
    {
    }

    void DateRenderSpecial(DateRenderEventArgs args)
    {
        if (dates.Contains(args.Date))
        {
            args.Attributes.Add("style", "background-color: #ff6d41; border-color: white;");
        }
    }

    void DateRender(DateRenderEventArgs args)
    {
        args.Disabled = args.Disabled || dates.Contains(args.Date);
    }

    void DateRenderNoWeekends(DateRenderEventArgs args)
    {
        args.Disabled = args.Disabled || args.Date.DayOfWeek == DayOfWeek.Sunday || args.Date.DayOfWeek == DayOfWeek.Saturday;
    }

    void OnTodayClick()
    {
        startDate = DateTime.Today;
        date = DateTime.Today;
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
#pragma warning restore 1591
